{% load static %}
<!DOCTYPE html>
<html lang="en" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Activate your account</title>
  <style nonce="{{ request.csp_nonce|default:'' }}">
    body,table,td,a{ -ms-text-size-adjust:100%; -webkit-text-size-adjust:100% }
    table,td{ mso-table-lspace:0pt; mso-table-rspace:0pt }
    img{ -ms-interpolation-mode:bicubic; border:0; outline:none; text-decoration:none }
    table{ border-collapse:collapse !important }
    body{ margin:0 !important; padding:0 !important; width:100% !important }
    a[x-apple-data-detectors]{ color:inherit !important; text-decoration:none !important }
    .wrapper{ width:100%; background:#f4f5f7; padding:24px 0 }
    .container{ width:100%; max-width:600px; margin:0 auto; background:#ffffff; border-radius:14px; overflow:hidden; box-shadow:0 4px 18px rgba(0,0,0,.08) }
    .header{ background:linear-gradient(135deg,#111827,#1f2937,#0ea5e9); color:#fff; padding:32px 24px }
    .brand{ font:700 20px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif; letter-spacing:.2px }
    .preheader{ display:none !important; visibility:hidden; opacity:0; color:transparent; height:0; width:0; overflow:hidden; mso-hide:all }
    .content{ padding:28px 24px; font:400 16px/1.6 -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol'; color:#111827 }
    .h1{ font-weight:700; font-size:22px; margin:0 0 12px; color:#111827 }
    .muted{ color:#6b7280 }
    .btn-wrap{ padding:8px 0 24px }
    .btn{ background:#10b981; color:#ffffff !important; display:inline-block; padding:14px 28px; border-radius:12px; font-weight:700; text-decoration:none; box-shadow:0 8px 20px rgba(16,185,129,.28) }
    .note{ background:#f9fafb; border:1px solid #eef2f7; border-radius:12px; padding:14px 16px; color:#374151; font-size:14px }
    .footer{ padding:20px 24px 28px; font:400 13px/1.6 -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial; color:#6b7280 }
    .footer a{ color:#2563eb; text-decoration:none }
    @media (prefers-color-scheme: dark){
      .wrapper{ background:#0b0f14 !important }
      .container{ background:#0f172a !important; box-shadow:none }
      .header{ background:linear-gradient(135deg,#0b0f14,#111827,#0ea5e9) !important }
      .content,.h1{ color:#e5e7eb !important }
      .muted,.footer{ color:#9ca3af !important }
      .note{ background:#111827 !important; border-color:#1f2937 !important; color:#cbd5e1 !important }
      .btn{ background:#10b981 !important }
    }
  </style>
  <!--[if mso]><style type="text/css">.btn{ font-family:Arial, sans-serif !important; }</style><![endif]-->
</head>
<body>
  <div class="preheader">Welcome to Rahim Online Shop — confirm your email to activate your account.</div>
  <table role="presentation" class="wrapper" width="100%" cellspacing="0" cellpadding="0">
    <tr>
      <td align="center">
        <table role="presentation" class="container" width="100%" cellspacing="0" cellpadding="0">
          <tr>
            <td class="header">
              <table role="presentation" width="100%">
                <tr>
                  <td class="brand">Rahim Online Shop</td>
                  <td align="right" style="font:500 13px/1.2 system-ui; opacity:.9;">Account Activation</td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td class="content">
              <h1 class="h1">Hi {{ user.get_full_name|default:user.email }}, welcome aboard!</h1>
              <p class="muted" style="margin:0 0 18px">Thanks for registering. Please confirm your email and activate your account.</p>

              <!-- Outlook bulletproof button -->
              <!--[if mso]>
              <v:roundrect xmlns:v="urn:schemas-microsoft-com:vml" href="{{ protocol }}://{{ domain }}{% url 'users:activate' uidb64=uid token=token %}" style="height:46px;v-text-anchor:middle;width:240px;" arcsize="14%" stroke="f" fillcolor="#10b981">
                <w:anchorlock/>
                <center style="color:#ffffff;font-family:Arial,sans-serif;font-size:16px;font-weight:700;">Activate Account</center>
              </v:roundrect>
              <![endif]-->
              <!--[if !mso]><!-- -->
              <div class="btn-wrap">
                <a class="btn" href="{{ protocol }}://{{ domain }}{% url 'users:activate' uidb64=uid token=token %}" target="_blank" rel="noopener">✅ Activate Account</a>
              </div>
              <!--<![endif]-->

              <div class="note">
                If the button doesn’t work, copy this link into your browser:<br>
                <a href="{{ protocol }}://{{ domain }}{% url 'users:activate' uidb64=uid token=token %}" style="word-break:break-all; color:#2563eb;">
                  {{ protocol }}://{{ domain }}{% url 'users:activate' uidb64=uid token=token %}
                </a>
              </div>

              <p class="muted" style="margin:18px 0 0;">Didn’t create an account? You can safely ignore this message.</p>
            </td>
          </tr>
          <tr>
            <td class="footer">
              Sent by Rahim Online Shop • This is an automated message<br>
              Need help? <a href="mailto:support@example.com">support@example.com</a>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
